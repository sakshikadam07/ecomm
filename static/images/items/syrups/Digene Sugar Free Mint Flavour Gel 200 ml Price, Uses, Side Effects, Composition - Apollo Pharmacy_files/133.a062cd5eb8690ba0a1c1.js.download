(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[133],{"4DdJ":function(e,t,a){"use strict";a.r(t);var r=a("nKUr"),n=a("q1tI"),i=a("vJKn"),o=a.n(i),s=a("rg98"),c=a("cpVT"),d=a("xvhg"),l=a("d6Jj"),u=a("aQR8"),p=a("nOHt"),b=a("QX5C"),f=a("OrY9"),v=a("J2aL"),m=a("WHms"),h=a("4+34"),g=a("ejkf"),j=a("+1b/"),O=a("85Bj"),x=a("9AWt");function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach((function(t){Object(c.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var S=function(){var e=(Object(v.b)().currentPatient||{}).id,t=void 0===e?"":e,a=Object(n.useState)(!0),r=a[0],i=a[1],c=Object(b.a)(l.e),y=Object(d.a)(c,1)[0],S=Object(b.a)(l.a),w=Object(d.a)(S,1)[0],A=Object(f.b)(),I=Object(p.useRouter)(),_=Object(g.useLocationDetails)(),k=_.setPickAddressDesktopDialogOpen,P=_.setPickAddressMobileDialogOpen,N=_.setIsAddressUpdated,B=_.setCurrentLat,D=_.setCurrentLong,E=_.setCurrentPincode,T=_.setCurrentLocation,M=Object(j.useGlobalShoppingCart)(),R=M.callRenewCart,W=M.setCallRenewCart,L=M.nonCartFlow,F=M.customerCartPreferences,U=M.cartFlowCheckpoints,z=M.userActionPayload,q=M.setRemovedSKUs,H=M.setServerCartErrorMessage,G=M.setCustomerCartPreferences,J=M.replaceCartItems,K=M.setUserActionPayload,V=M.setValidCouponResponse,Y=M.setDeliveryAddressId,Z=M.setMedicineAddress,$=M.setPharmaAddressDetails,X=M.updateCartAmountBreakup,Q=M.setCartShipments,ee=M.setPrescriptionFlowSelected,te=M.setPrescriptions,ae=M.setEPrescriptionData,re=M.setServerPrescriptions,ne=M.setFetchingCart,ie=M.updatePrescriptionFilesForOrders,oe=Object(m.a)().setSubscriptionCartDetails,se=(null===U||void 0===U?void 0:U.length)>0&&U[U.length-1]||O.a.LANDING;Object(v.a)();var ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e?e.map((function(e){var t=e.sku,a=e.magentoId,r=e.magentoStatus,n=e.name,i=e.quantity,o=e.price,s=e.sellingPrice,c=e.mou,d=e.thumbnail,l=e.isPrescriptionRequired,u=e.subcategory,p=e.typeId,b=e.urlKey,f=e.isInStock,v=e.maxOrderQty,m=e.sellOnline,h=e.isCouponApplicable,g=e.isShippable,j=e.cashback,O=e.freeProduct,x=e.tatCity,y=e.tatDuration,C=e.storeType;return{url_key:b,description:"",id:a,image:[],is_in_stock:Boolean(f),sell_online:Boolean(m),is_prescription_required:l,name:n,price:o,sellingPrice:s,sku:t,small_image:d,status:Number(r),thumbnail:d,type_id:p,quantity:i,mou:c,isShippable:g,MaxOrderQty:v,couponFree:Number(O),subcategory:u,cashback:j,isCouponApplicable:h,tatCity:x,tatDuration:y,storeType:C}})):[]},de=function(e){var t,a,r=(null===e||void 0===e?void 0:e.cartMessage)||"";if(null===e||void 0===e||null===(t=e.errorMessage)||void 0===t?void 0:t.length)throw H(e.errorMessage),new Error(e.errorMessage);if((null===r||void 0===r?void 0:r.length)&&H(r),!(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.patientId))throw new Error("Server Cart : Bad Response");var n,i,o,s,c,d,l,u,p,b,f,v,m,h,g,j=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.patientAddressId,O=(null===e||void 0===e||null===(i=e.data)||void 0===i||null===(o=i.latitude)||void 0===o?void 0:o.toString())||"",x=(null===e||void 0===e||null===(s=e.data)||void 0===s||null===(c=s.longitude)||void 0===c?void 0:c.toString())||"",y=(null===e||void 0===e||null===(d=e.data)||void 0===d?void 0:d.zipcode)||"",S=(null===e||void 0===e||null===(l=e.data)||void 0===l?void 0:l.city)||"",w=(null===e||void 0===e||null===(u=e.data)||void 0===u?void 0:u.state)||"",A=null===e||void 0===e||null===(p=e.data)||void 0===p?void 0:p.subscriptionDetails,I=null===e||void 0===e||null===(b=e.data)||void 0===b?void 0:b.amount,_=null===e||void 0===e||null===(f=e.data)||void 0===f?void 0:f.prescriptionDetails,M=null===e||void 0===e||null===(v=e.data)||void 0===v?void 0:v.prescriptionType,R=null===e||void 0===e||null===(m=e.data)||void 0===m?void 0:m.couponDetails,W=null===e||void 0===e||null===(h=e.data)||void 0===h?void 0:h.medicineOrderCartLineItems,L=null===e||void 0===e||null===(g=e.data)||void 0===g?void 0:g.noOfShipments;!function(e){try{J(e),q([])}catch(t){console.error("Failed to sync device cart",t)}}(ce(W)),function(e){var t=[];(null===e||void 0===e?void 0:e.length)&&(t=e.filter((function(e){var t=e.prismPrescriptionFileId;return void 0===t?"":t})).map((function(e){var t=e.appointmentId,a=void 0===t?"":t,r=e.meta,n=void 0===r?null:r,i=e.prismPrescriptionFileId,o=e.prescriptionImageUrl,s=n;return{prismFileId:i,appointmentId:a,fileUrl:void 0===o?"":o,date:null===s||void 0===s?void 0:s.date,doctorName:null===s||void 0===s?void 0:s.doctorName,medicines:null===s||void 0===s?void 0:s.medicines,forPatient:null===s||void 0===s?void 0:s.forPatient,fileName:null===s||void 0===s?void 0:s.fileName,fileType:null===s||void 0===s?void 0:s.fileType,baseFormat:""}}))),re(t);var a=t.filter((function(e){return!e.doctorName})).map((function(e){var t=e.baseFormat,a=void 0===t?"":t,r=e.fileUrl,n=void 0===r?"":r,i=e.fileName,o=void 0===i?"":i,s=e.fileType;return{baseFormat:a,fileName:o,fileType:void 0===s?"":s,fileUrl:n}}));localStorage.setItem("prescriptions",JSON.stringify(a)),te(a);var r=t.filter((function(e){return e.doctorName})).map((function(e){var t=e.date,a=void 0===t?"":t,r=e.doctorName,n=void 0===r?"":r,i=e.forPatient,o=void 0===i?"":i,s=e.medicines,c=void 0===s?"":s,d=e.prismFileId,l=void 0===d?"":d,u=e.appointmentId,p=void 0===u?"":u,b=e.fileUrl;return{fileUrl:void 0===b?"":b,date:a,doctorName:n,forPatient:o,medicines:c,prismFileId:l,appointmentId:p}}));localStorage.setItem("ePrescriptionData",JSON.stringify(r)),ae(r)}(_),function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=[],r=function(t){var r,n=e.filter((function(e){return(null===e||void 0===e?void 0:e.shipmentNo)===t})),i=ce(n);a.push({items:i,orderTat:null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r.tat,estimatedAmount:i.reduce((function(e,t){return e+t.sellingPrice}),0)})},n=1;n<=t;n++)r(n);Q(a)}(W,L),V(R||null),oe(A||null),Y(j||""),N(!1),ee(M),G(C(C({},F),{},{prescriptionFlowSelected:M})),k(!1),P(!1),B(O),D(x),E(y||""),Z(S),T(S),$({city:S,state:w,pincode:y,country:"",lat:O,lng:x}),localStorage.setItem("pharmaAddressDetails",JSON.stringify({city:S,state:w,pincode:y,country:"",lat:O,lng:x})),localStorage.setItem("pharmaPincode",y),X(I)};Object(n.useEffect)((function(){var e=sessionStorage.getItem("prevPath")||"",a=sessionStorage.getItem("currentPath")||"",r=e.includes("/login"),n=a.includes("/order-status");if(t&&!n&&(!(e===a)||r)){var i,o=localStorage.getItem("".concat(t));o||(o=localStorage.getItem("cartItems"));var s=o?JSON.parse(o):[],c=localStorage.getItem("CIRCLEPlan")?JSON.parse(localStorage.getItem("CIRCLEPlan")):null,d=(localStorage.getItem("prescriptions")?JSON.parse(localStorage.getItem("prescriptions")):[]).filter((function(e){var t=e.baseFormat,a=e.fileUrl;return t&&a})),l=localStorage.getItem("removedSkuList")||"",p=l?l.split(","):[],b=(s||[]).map((function(e){return{medicineSKU:e.sku,quantity:e.quantity}})).concat((p||[]).map((function(e){return{medicineSKU:e,quantity:0}}))),f=C(C({},(null===b||void 0===b?void 0:b.length)&&{medicineOrderCartLineItems:b}),c&&{subscription:{planId:u.x.CIRCLEPlan,subPlanId:c.subPlanId,subscriptionApplied:!0,TYPE:u.w.CARE_PLAN}});(null===d||void 0===d?void 0:d.length)?ie(d,[],f):(null===(i=Object.keys(f))||void 0===i?void 0:i.length)&&K(f)}}),[t]),Object(n.useEffect)((function(){z&&t&&function(){var e=Object(s.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=se===O.a.SHIPMENTS&&I.pathname===h.a.medicinesCart(),(null===t||void 0===t?void 0:t.patientId)&&!a&&r&&(i(!1),y({variables:{cartInputData:t}}).then((function(e){var t,a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.saveCart;de(a)})).catch((function(e){console.error("Failed to sync server cart",e)})).finally((function(){K(null),i(!0)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(C(C({},z),{},{patientId:t}))}),[z,t,r]);var le=function(){var e=Object(s.a)(o.a.mark((function e(){var a,r=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r.length>0&&void 0!==r[0]&&r[0],t&&(ne(x.a.STARTED),A.query({query:l.c,variables:{patientId:t},fetchPolicy:"no-cache"}).then((function(e){var t;ne(x.a.RUNNING);var a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.reviewCartPage;de(a)})).then((function(){var e;ne(x.a.ENDED),a&&(null===F||void 0===F||null===(e=F.checkpoints)||void 0===e?void 0:e.length)<=1&&I.replace({pathname:h.a.medicinesCart(),hash:O.a.LANDING},h.a.medicinesCart(),{shallow:!0})})).catch((function(e){console.error("Failed to update server cart in review page",e),I.push(h.a.medicinesCart()).then((function(){G(C(C({},F),{},{checkpoints:[O.a.LANDING]}))}))})).finally((function(){ne(x.a.NOTSTARTED)})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){var e,a=function(){var e=Object(s.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&(ne(x.a.STARTED),A.query({query:l.b,variables:{patientId:t},fetchPolicy:"no-cache"}).then((function(e){var t;ne(x.a.RUNNING);var a=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.fetchCart;de(a)})).then((function(){ne(x.a.ENDED)})).catch((function(e){console.error("Failed to fetch server cart",e)})).finally((function(){ne(x.a.NOTSTARTED)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=function(e){if(!sessionStorage.getItem("paymentInitiated"))return e.preventDefault(),e.returnValue="Are you sure you want to leave this page ?"},n=function(){sessionStorage.removeItem("renewCartOrderId"),sessionStorage.getItem("paymentInitiated")?sessionStorage.removeItem("paymentInitiated"):sessionStorage.setItem("renewCartOrderId",i)},i=(null===I||void 0===I||null===(e=I.query)||void 0===e?void 0:e.orderId)||"",c=I.asPath==="".concat(h.a.medicinesCart(),"#").concat(O.a.SHIPMENTS),d=I.asPath==="".concat(h.a.payMedicineJuspay(i)),u=sessionStorage.getItem("renewCartOrderId"),p=I.asPath.includes("/login");return d&&t&&(window.addEventListener("beforeunload",r,!1),window.addEventListener("unload",n,!1),I.events.on("routeChangeComplete",n),I.beforePopState((function(){return n(),!0}))),u&&t?W(!0):!p&&t&&(c?le(!0):a()),function(){d&&t&&(window.removeEventListener("beforeunload",r,!1),window.removeEventListener("unload",n,!1),I.events.off("routeChangeComplete",n),I.beforePopState((function(){return!0})))}}),[I.asPath,t,L]),Object(n.useEffect)((function(){var e=sessionStorage.getItem("renewCartOrderId");e&&R&&t&&(W(!1),function(e,t){w({variables:{patientId:t,paymentOrderId:e,paymentSuccess:!1}}).then((function(e){var t,a;(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.deletecart)||void 0===a?void 0:a.success)||console.error("Failed to delete and re-create server cart"),le()})).catch((function(e){console.error("Unable to delete and re-create server cart",e)})).finally((function(){sessionStorage.removeItem("renewCartOrderId")}))}(e,t))}),[t,R])},w=a("MRnZ"),A=a("0Dmq"),I=a("UGUo"),_=a("iae6"),k=a("ZGBi"),P=a("ofer"),N=a("RD7I"),B=a("KH1p"),D=a("CgyE"),E=a("t4wr"),T=a("5Gel"),M=a("rxpb"),R=a("CXB7"),W=a("ZTXI"),L=a("BTyb"),F=a("LpXq"),U=a("qXvB"),z=Object(N.a)((function(e){return{root:Object(c.a)({borderRadius:10,boxShadow:"0 2px 4px 0 rgba(128, 128, 128, 0.3)",backgroundColor:"#f7f8f5",padding:16,fontSize:14,fontWeight:500,lineHeight:1.43,color:"#01475b",cursor:"pointer",position:"relative",paddingRight:125,wordBreak:"break-word"},e.breakpoints.down("xs"),{backgroundColor:"#fff",paddingRight:16,paddingTop:25}),addressType:{position:"absolute",top:0,right:0,textAlign:"center",padding:6,textTransform:"uppercase",backgroundColor:"rgba(0,135,186,0.11)",borderRadius:10,fontSize:9,fontWeight:"bold",color:"#02475b",minWidth:115},deleteBtn:{textTransform:"none",color:"#01475b",fontSize:16,fontWeight:500},dialogBox:{"& >div":{"& >div":Object(c.a)({maxWidth:400,margin:"30px auto 0"},e.breakpoints.down("sm"),{maxWidth:"100%",width:"100%",borderRadius:0,margin:0,height:"100vh",maxHeight:"initial",background:"#F7F8F5",overflowY:"auto",position:"relative",marginTop:30,"&:before":{background:"#fff",position:"fixed",content:"''",height:50,top:-20,left:0,width:"100%"}})}},goBack:Object(c.a)({display:"none"},e.breakpoints.down("xs"),{display:"block",position:"absolute",top:10,zIndex:5,boxShadow:"none"}),editAction:Object(c.a)({padding:0,WebkitBoxShadow:"none",borderRadius:0,minWidth:30,flex:"0 1 10px",background:"none","& img":{filter:"grayscale(1) invert(1)"}},e.breakpoints.down("sm"),{minWidth:"auto"})}})),q=function(e){var t=z({}),a=Object(g.useLocationDetails)().setIsAddressListUpdated,i=e.currentAddress,o=e.updateCartAddress,s=e.setEditMode,c=Object(n.useState)(!1),l=c[0],u=c[1],p=Object(n.useState)(!1),f=p[0],v=p[1],m=Object(n.useState)(""),h=m[0],j=m[1],O=Object(n.useState)(!1),x=O[0],y=O[1],C=Object(n.useState)(!1),S=C[0],A=C[1],I=Object(n.useState)(!1),_=I[0],k=I[1],P=Object(n.useState)(""),N=P[0],E=P[1],q=Object(n.useRef)(null),H=Object(b.a)(L.a),G=Object(d.a)(H,1)[0];return Object(n.useEffect)((function(){S&&o()}),[S]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(D.a,{className:t.editAction,color:"secondary",handleClick:function(e){e.stopPropagation(),s&&s(!0),u(!0)},children:Object(r.jsx)("img",{src:"".concat(U.r,"/images/ic-edit-white.svg"),alt:"edit Icon"})}),Object(r.jsx)(w.a,{open:l,className:t.dialogBox,children:Object(r.jsx)(R.a,{setIsAddAddressDialogOpen:function(e){s&&s(e),u(e)},currentAddress:i,disableActions:!0,forceRefresh:function(e){return A(e)},setPopoverMessage:E,setIsDeletePopoverOpen:v,deleteAddRef:q,checkServiceAvailability:F.a})}),Object(r.jsx)(T.a,{open:f,anchorEl:q.current,onClose:function(){return v(!1)},children:Object(r.jsx)(D.a,{color:"secondary",className:t.deleteBtn,handleClick:function(){s&&s(!1),u(!1),v(!1),G({variables:{id:i&&i.id}}).then((function(){E("Address deleted successfully."),a(!1)})).catch((function(){j("Unable to delete address, try again."),y(!0)}))},children:"Delete Address"})}),Object(r.jsx)(B.Alerts,{setAlertMessage:j,alertMessage:h,isAlertOpen:x,setIsAlertOpen:y}),Object(r.jsx)(M.a,{anchorEl:null,open:_,children:Object(r.jsx)(W.a,{messageTitle:"",message:N,closeButtonLabel:"OK",closeMascot:function(){k(!1),A(!1),E("")}})})]})};function H(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function G(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?H(Object(a),!0).forEach((function(t){Object(c.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):H(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var J=Object(N.a)((function(e){return{root:{paddingTop:14,paddingBottom:20,"& ul":{padding:0,margin:0},"& li":{listStyleType:"none",paddingBottom:10,fontSize:14,fontWeight:500,color:"#01475b"}},actions:{padding:"10px 20px 20px 20px",display:"flex"},noServiceRoot:{"& p":{fontSize:17,fontWeight:500,lineHeight:1.41,color:e.palette.secondary.main,marginTop:20}},windowBody:{padding:20,paddingTop:0,paddingBottom:0},viewCartBtn:{fontSize:13,fontWeight:"bold",textAlign:"right",marginLeft:"auto",textTransform:"uppercase"},buttonDisable:{backgroundColor:"#fed984",boxShadow:"0 2px 4px 0 rgba(0, 0, 0, 0.2) !important"},radioLabel:{margin:0,fontSize:14,fontWeight:500,color:"#01475b",alignItems:"start","& span:last-child":{fontSize:14,fontWeight:500,color:"#01475b",wordBreak:"break-word",display:"flex",alignItems:"flex-start"}},addressGroup:{borderRadius:10,boxShadow:"0 2px 4px 0 rgba(0, 0, 0, 0.2)",backgroundColor:"#f7f8f5",padding:10,paddingTop:16,paddingBottom:6,marginBottom:10},dialogContent:{paddingTop:10},dialogActions:{padding:20,paddingTop:10,boxShadow:"0 -5px 20px 0 #ffffff",position:"relative","& button":{borderRadius:10}},customScrollBar:{padding:"0 20px",height:"43vh",overflow:"auto"},shadowHide:{overflow:"hidden"},successPopoverWindow:{display:"flex",marginRight:5,marginBottom:5},windowWrap:{width:368,borderRadius:10,paddingTop:36,boxShadow:"0 5px 40px 0 rgba(0, 0, 0, 0.3)",backgroundColor:e.palette.common.white},mascotIcon:{position:"absolute",right:12,top:-40,"& img":{maxWidth:72}},loader:{margin:"20px auto",textAlign:"center",display:"block"},highlight:{border:"1px solid green !important"},addressCard:Object(c.a)({boxShadow:"0px 5px 10px rgba(128, 128, 128, 0.3)",padding:"8px",background:"#fff",borderRadius:10,width:"48%",margin:"0 10px 14px 0",border:"1px solid #bfbfbf",minHeight:109,transition:"all .3s ease-in-out","&>.active":{border:"1px solid #FC9916"},"&:nth-child(2n+2)":{marginRight:0},"& >.topSection":{display:"flex",alignItems:"flex-start",justifyContent:"space-between",flexWrap:"wrap","& >.title":{padding:0,flex:1,fontWeight:600,fontSize:13,overflowWrap:"break-word",maxWidth:102,"& >.patientName":{display:"block"},"& >.contactNo":{fontSize:11,opacity:.8,flex:"1 100%",marginBottom:5,display:"block"}}},"& > .address":{overflow:"hidden",display:"-webkit-box",lineClamp:3,boxOrient:"vertical",fontSize:12,opacity:.8,lineHeight:"14px",marginBottom:4},"&>.setAddress":{fontSize:10,opacity:.8,lineHeight:"13px",textTransform:"uppercase",fontWeight:500},"&>.defaultAddress":{fontSize:10,opacity:.8,lineHeight:"13px"}},e.breakpoints.up("sm"),{width:"100%",minHeight:70}),addressCardAction:Object(c.a)({display:"flex",alignItems:"center",justifyContent:"center",fontSize:14,fontWeight:600,background:"#ccdade",flexDirection:"column",color:"#01475B",cursor:"pointer",textAlign:"center"},e.breakpoints.up("sm"),{backgroundColor:"#f7f8f5"})}})),K=function(e){var t=J(),a=e.addressDetails,i=e.formatAddress,o=e.selectAddress,s=e.highlight,c=e.updateCartAddress,d=Object(n.useState)(!1),l=d[0],u=d[1];return Object(r.jsxs)("div",{className:"".concat(t.addressCard," ").concat(s?t.highlight:""),onClick:l?function(){}:o,children:[Object(r.jsxs)("div",{className:"topSection",children:[Object(r.jsxs)(P.a,{component:"h3",className:"title",children:[Object(r.jsx)("span",{className:"patientName",children:a.name}),Object(r.jsxs)("span",{className:"contactNo",children:[" ",a.mobileNumber]})]}),Object(r.jsx)(q,{currentAddress:a,updateCartAddress:c,setEditMode:u})]}),Object(r.jsx)(P.a,{component:"p",className:"address",children:i(a)}),Object(r.jsx)(P.a,{component:"p",className:"setAddress",children:a.otherAddressType||a.addressType})]})},V=function(e){var t=J({}),a=e.cartMobile,i=void 0!==a&&a,o=e.setIsViewAllAddressDialogOpen,s=e.formatAddress,c=e.setIsAddAddressDialogOpen,d=Object(g.useLocationDetails)().setIsAddressListUpdated,l=Object(j.useGlobalShoppingCart)(),u=l.serverCartErrorMessage,p=l.deliveryAddressId,b=l.userActionPayload,f=l.setUserActionPayload,v=l.deliveryAddresses,m=l.setStoreAddressId,h=Object(n.useState)(p),O=h[0],x=h[1],y=v.find((function(e){return e.id===p})),C=Object(n.useState)(y&&y.zipcode?y.zipcode:""),S=(C[0],C[1]),w=Object(n.useState)(!1),A=w[0],I=w[1],N=Object(n.useState)(!1),T=N[0],R=N[1],W=Object(n.useState)(""),L=W[0],F=W[1],z=Object(n.useState)(!1),H=z[0],V=z[1],Y=Object(n.useState)(!1),Z=Y[0],$=(Y[1],Object(n.useRef)(null)),X=""===O||!(null===v||void 0===v?void 0:v.length),Q=function(e){e!==p?(I(!0),f(G(G({},b),{},{patientAddressId:e})),m&&m("")):o(!1)};return Object(n.useEffect)((function(){(null===u||void 0===u?void 0:u.length)&&I(!1)}),[u]),Object(r.jsxs)(r.Fragment,{children:[i?Object(r.jsx)(r.Fragment,{children:Z?Object(r.jsx)(_.a,{className:t.loader}):Object(r.jsxs)(r.Fragment,{children:[v.map((function(e,t){return Object(r.jsx)(K,{addressDetails:e,formatAddress:s,selectAddress:function(){Q(e.id)},highlight:p===e.id,updateCartAddress:function(){o(!1),d(!1)}},t)})),Object(r.jsx)("div",{className:"".concat(t.addressCard," ").concat(t.addressCardAction),onClick:function(){o(!1),c&&c(!0)},children:Object(r.jsx)("span",{children:"Add new Address..."})})]})}):Object(r.jsxs)("div",{className:t.shadowHide,children:[Object(r.jsx)("div",{className:t.dialogContent,children:Object(r.jsx)("div",{className:t.customScrollBar,children:Object(r.jsxs)("div",{className:t.root,children:[(null===v||void 0===v?void 0:v.length)>0&&Object(r.jsx)("div",{className:t.addressGroup,children:Object(r.jsx)("ul",{children:Z?Object(r.jsx)(_.a,{className:t.loader}):v.map((function(e,a){var n,i=e.id;return Object(r.jsx)("li",{children:Object(r.jsx)(k.a,{checked:O===i,className:t.radioLabel,value:i,control:Object(r.jsx)(E.b,{color:"primary"}),label:(n=e,Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("span",{children:s(n)}),Object(r.jsx)(q,{currentAddress:e,updateCartAddress:function(){o(!1),d(!1)}})]})),onChange:function(){!function(e){x(e.id),S(e.zipcode||"")}(e)}})},a)}))})}),!Z&&Object(r.jsx)("div",{className:"".concat(t.addressCard," ").concat(t.addressCardAction),onClick:function(){o(!1),c&&c(!0)},children:Object(r.jsx)("span",{children:"Add new Address..."})})]})})}),Object(r.jsx)("div",{className:t.dialogActions,children:Object(r.jsx)(D.a,{color:"primary",fullWidth:!0,disabled:X,className:X?t.buttonDisable:"",handleClick:function(){Q(O)},children:A?Object(r.jsx)(_.a,{size:20,color:"secondary"}):"SAVE AND USE"})})]}),Object(r.jsx)(M.a,{open:T,anchorEl:$.current,children:Object(r.jsx)("div",{className:t.successPopoverWindow,children:Object(r.jsxs)("div",{className:t.windowWrap,children:[Object(r.jsx)("div",{className:t.mascotIcon,children:Object(r.jsx)("img",{src:"".concat(U.r,"/images/ic-mascot.png"),alt:""})}),Object(r.jsxs)("div",{className:t.noServiceRoot,children:[Object(r.jsxs)("div",{className:t.windowBody,children:[Object(r.jsx)(P.a,{variant:"h2",children:"Uh oh! :("}),Object(r.jsx)("p",{children:"Sorry! We\u2019re working hard to get to this area! In the meantime, you can either pick up from a nearby store, or change the pincode."}),Object(r.jsx)("p",{children:"You can also call 1860 500 0101 for Apollo Pharmacy retail customer care."})]}),Object(r.jsx)("div",{className:t.actions,children:Object(r.jsx)(D.a,{color:"secondary",className:t.viewCartBtn,handleClick:function(){R(!1)},children:"OK, GOT IT"})})]})]})})}),Object(r.jsx)(B.Alerts,{setAlertMessage:F,alertMessage:L,isAlertOpen:H,setIsAlertOpen:V})]})},Y=a("r/9y"),Z=a("5qlv"),$=a("M6do"),X=a("WZjl"),Q=a.n(X);t.default=function(e){var t=Object(p.useRouter)(),a=Object(j.useGlobalShoppingCart)(),i=a.serverCartErrorMessage,o=a.setServerCartErrorMessage,s=a.setCartCheckPointLanding,c=Object(g.useLocationDetails)(),d=c.patientCurrentAddress,l=c.pickAddressDesktopDialogOpen,u=c.setPickAddressDesktopDialogOpen,b=c.pickAddressMobileDialogOpen,f=c.setPickAddressMobileDialogOpen,v=c.isAddAddressCartDialogOpen,m=c.setIsAddAddressCartDialogOpen;return S(),Object(n.useEffect)((function(){s()}),[d]),Object(n.useEffect)((function(){i&&setTimeout((function(){o("")}),$.a)}),[i]),Object(n.useEffect)((function(){var e,a=null===(e=window)||void 0===e?void 0:e.sessionStorage;if(a){var r=a.getItem("currentPath");a.setItem("prevPath",r),a.setItem("currentPath",t.asPath)}}),[t.asPath]),Object(r.jsxs)(r.Fragment,{children:[e.children,Object(r.jsxs)(w.a,{open:l,maxWidth:"sm",children:[Object(r.jsx)(I.default,{onClick:function(){return u(!1)},title:"Close"}),Object(r.jsx)(A.a,{children:"Select Delivery Address"}),Object(r.jsx)(V,{setIsViewAllAddressDialogOpen:u,formatAddress:Y.b,checkServiceAvailability:F.a,setIsAddAddressDialogOpen:function(e){m(e)}})]}),Object(r.jsxs)(w.a,{open:b,maxWidth:"xs",className:Q.a.saveAddressMain,children:[Object(r.jsx)(I.default,{onClick:function(){f(!1)},title:"Close"}),Object(r.jsx)(A.a,{className:Q.a.saveAddressMainTitle,children:"Choose from saved address"}),Object(r.jsx)("div",{className:Q.a.saveAddressMainMidSection,children:Object(r.jsx)("div",{className:Q.a.cardListMain,children:Object(r.jsx)(V,{setIsViewAllAddressDialogOpen:f,formatAddress:Y.b,checkServiceAvailability:F.a,cartMobile:!0,setIsAddAddressDialogOpen:function(e){m(e)}})})})]}),Object(r.jsx)(w.a,{open:v,className:Q.a.dialogBox,children:Object(r.jsx)(R.a,{setIsAddAddressDialogOpen:function(e){m(e)},checkServiceAvailability:F.a})}),Object(r.jsx)(M.a,{open:!!i.length,anchorEl:null,children:Object(r.jsx)("div",{className:Q.a.successPopoverWindow,children:Object(r.jsxs)("div",{className:Q.a.windowWrap,children:[Object(r.jsx)("div",{className:Q.a.mascotIcon,children:Object(r.jsx)("img",{src:"".concat(U.r,"/images/ic-mascot.png"),alt:""})}),Object(r.jsxs)("div",{className:Q.a.windowBody,children:[Object(r.jsx)(P.a,{variant:"h4",children:"Dear Customer!"}),Object(r.jsx)("p",{children:Object(r.jsx)("span",{children:i})})]}),Object(r.jsx)("div",{className:Q.a.actions,children:Object(r.jsx)(Z.a,{type:"submit",color:"primary",handleClick:function(){o("")},children:"Ok, Got It"})})]})})})]})}},"5qlv":function(e,t,a){"use strict";var r=a("nKUr"),n=(a("q1tI"),a("DHJT")),i=a.n(n);t.a=function(e){var t=e.children,a=e.color,n=e.variant,o=e.handleClick,s=e.disabled,c=e.className,d=e.fullWidth,l=e.title,u=e.type,p=e.value;return Object(r.jsx)("button",{className:"".concat(a?i.a[a+"Btn"]:"","\n      ").concat(n?i.a[n]:"","\n      ").concat(s?i.a.disable:"","\n      ").concat(c||"","\n      ").concat(d?i.a.fullWidth:"","\n      "),onClick:function(){o()},title:l,type:u,value:p,children:t})}},AVH9:function(e,t,a){"use strict";var r=a("q1tI"),n=r.createContext();t.a=n},M4Ey:function(e,t,a){"use strict";var r=a("wx14"),n=a("Ff2n"),i=a("q1tI"),o=(a("17x9"),a("iuhU")),s=a("4ppn"),c=a("5AJ6"),d=Object(c.a)(i.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),l=Object(c.a)(i.createElement("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),u=a("H2TA");var p=Object(u.a)((function(e){return{root:{position:"relative",display:"flex","&$checked $layer":{transform:"scale(1)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.shortest})}},layer:{left:0,position:"absolute",transform:"scale(0)",transition:e.transitions.create("transform",{easing:e.transitions.easing.easeIn,duration:e.transitions.duration.shortest})},checked:{}}}),{name:"PrivateRadioButtonIcon"})((function(e){var t=e.checked,a=e.classes,r=e.fontSize;return i.createElement("div",{className:Object(o.default)(a.root,t&&a.checked)},i.createElement(d,{fontSize:r}),i.createElement(l,{fontSize:r,className:a.layer}))})),b=a("ye/S"),f=a("NqtD"),v=a("x6Ns"),m=a("AVH9");var h=i.createElement(p,{checked:!0}),g=i.createElement(p,null),j=i.forwardRef((function(e,t){var a=e.checked,c=e.classes,d=e.color,l=void 0===d?"secondary":d,u=e.name,p=e.onChange,b=e.size,j=void 0===b?"medium":b,O=Object(n.a)(e,["checked","classes","color","name","onChange","size"]),x=i.useContext(m.a),y=a,C=Object(v.a)(p,x&&x.onChange),S=u;return x&&("undefined"===typeof y&&(y=x.value===e.value),"undefined"===typeof S&&(S=x.name)),i.createElement(s.a,Object(r.a)({color:l,type:"radio",icon:i.cloneElement(g,{fontSize:"small"===j?"small":"medium"}),checkedIcon:i.cloneElement(h,{fontSize:"small"===j?"small":"medium"}),classes:{root:Object(o.default)(c.root,c["color".concat(Object(f.a)(l))]),checked:c.checked,disabled:c.disabled},name:S,checked:y,onChange:C,ref:t},O))}));t.a=Object(u.a)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(b.a)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(b.a)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiRadio"})(j)},WZjl:function(e,t,a){e.exports={next:"ServerCartBase_next__2BIM9",container:"ServerCartBase_container__1GFVU",textCenter:"ServerCartBase_textCenter__iV4Fy",textUppercase:"ServerCartBase_textUppercase__18csy",textCapitalize:"ServerCartBase_textCapitalize__32SaN",textEllipsis:"ServerCartBase_textEllipsis__1nba0",lineClamp:"ServerCartBase_lineClamp__1jM0o",flex:"ServerCartBase_flex__1QHY3",flexCenter:"ServerCartBase_flexCenter__2AAnG",alignItemsStart:"ServerCartBase_alignItemsStart__1zATY",alignItemsEnd:"ServerCartBase_alignItemsEnd__lDTIY",justifyContentStart:"ServerCartBase_justifyContentStart__2G9RJ",justifyContentEnd:"ServerCartBase_justifyContentEnd__1m63n",justifyContentCenter:"ServerCartBase_justifyContentCenter__hDBZC",fontMedium:"ServerCartBase_fontMedium__2q2BP",fontBold:"ServerCartBase_fontBold__1bvcy",fontBolder:"ServerCartBase_fontBolder__JyU0r",textPrimary:"ServerCartBase_textPrimary__3C4Zw",textSecondary:"ServerCartBase_textSecondary__h8SX3",scroll:"ServerCartBase_scroll__35GrS",hideVisibility:"ServerCartBase_hideVisibility__EO9Zt",displayNone:"ServerCartBase_displayNone__WJY3w",customScrollSlider:"ServerCartBase_customScrollSlider__28YS3",windowBody:"ServerCartBase_windowBody__2tLKo",successPopoverWindow:"ServerCartBase_successPopoverWindow__25HFM",windowWrap:"ServerCartBase_windowWrap__2fiA8",mascotIcon:"ServerCartBase_mascotIcon__d4YpX",actions:"ServerCartBase_actions__2AK-S",button:"ServerCartBase_button__2Dgdr",saveAddressMain:"ServerCartBase_saveAddressMain__1ELK3",saveAddressMainTitle:"ServerCartBase_saveAddressMainTitle__9dHLY",saveAddressMainMidSection:"ServerCartBase_saveAddressMainMidSection__33AjA",cardListMain:"ServerCartBase_cardListMain__6pUeF",dialogBox:"ServerCartBase_dialogBox__2RfdS"}},ZGBi:function(e,t,a){"use strict";var r=a("wx14"),n=a("Ff2n"),i=a("q1tI"),o=(a("17x9"),a("iuhU")),s=a("EHdT"),c=a("H2TA"),d=a("ofer"),l=a("NqtD"),u=i.forwardRef((function(e,t){e.checked;var a=e.classes,c=e.className,u=e.control,p=e.disabled,b=(e.inputRef,e.label),f=e.labelPlacement,v=void 0===f?"end":f,m=(e.name,e.onChange,e.value,Object(n.a)(e,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),h=Object(s.a)(),g=p;"undefined"===typeof g&&"undefined"!==typeof u.props.disabled&&(g=u.props.disabled),"undefined"===typeof g&&h&&(g=h.disabled);var j={disabled:g};return["checked","name","onChange","value","inputRef"].forEach((function(t){"undefined"===typeof u.props[t]&&"undefined"!==typeof e[t]&&(j[t]=e[t])})),i.createElement("label",Object(r.a)({className:Object(o.default)(a.root,c,"end"!==v&&a["labelPlacement".concat(Object(l.a)(v))],g&&a.disabled),ref:t},m),i.cloneElement(u,j),i.createElement(d.a,{component:"span",className:Object(o.default)(a.label,g&&a.disabled)},b))}));t.a=Object(c.a)((function(e){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:e.palette.text.disabled}}}}),{name:"MuiFormControlLabel"})(u)},t4wr:function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var r=a("cpVT"),n=a("nKUr"),i=a("M4Ey"),o=a("RD7I");a("q1tI");function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var c=Object(o.a)((function(e){return{root:{margin:0,padding:0,paddingRight:18},colorPrimary:{color:"#00b38e","&$checked":{color:"#00b38e"}},checked:{color:"#00b38e"}}})),d=function(e){var t=c({}),a=e.classes||t;return Object(n.jsx)(i.a,function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({icon:Object(n.jsx)("img",{src:"".concat("https://newassets.apollo247.com","/images/ic_radio_unselected.svg"),alt:""}),checkedIcon:Object(n.jsx)("img",{src:"".concat("https://newassets.apollo247.com","/images/ic_radio.svg"),alt:""}),classes:a},e))};t.b=d}}]);