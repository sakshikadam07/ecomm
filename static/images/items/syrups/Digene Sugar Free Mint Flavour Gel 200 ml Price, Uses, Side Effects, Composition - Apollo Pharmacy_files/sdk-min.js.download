"use strict";function BusinessCenterContext(){}BusinessCenterContext.getUserEmail=function(){return sendMessage("getUserEmail").then(function(n){return unsanitize(n)}).catch(function(n){return unsanitize(n)})},BusinessCenterContext.getUserIdToken=function(){return sendMessage("getUserIdToken").then(function(n){return unsanitize(n)}).catch(function(n){return unsanitize(n)})},BusinessCenterContext.getTenantName=function(){return sendMessage("getTenantName").then(function(n){return unsanitize(n)}).catch(function(n){return unsanitize(n)})},BusinessCenterContext.isUserAdmin=function(){return sendMessage("isUserAdmin").then(function(n){return unsanitize(n)}).catch(function(n){return unsanitize(n)})},BusinessCenterContext.getClientType=function(){return sendMessage("getClientType").then(function(n){return unsanitize(n)}).catch(function(n){return unsanitize(n)})},BusinessCenterContext.closeModal=function(){return sendMessage("closeModal").then(function(n){return unsanitize(n)}).catch(function(n){return unsanitize(n)})},BusinessCenterContext.captureImage=function(){return getResourceData("captureImage").then(function(n){return unsanitize(n)}).catch(function(n){return unsanitize(n)})},BusinessCenterContext.performPopupTransaction=function(n,e){return sendMessage("performPopupTransaction",[n,e]).then(function(n){return unsanitize(n)}).catch(function(n){return unsanitize(n)})},BusinessCenterContext.notifyPopupTransactionSuccess=function(n){window.location.replace("https://businesscenter.kaiza.la/consoleTab/popupTransactionEnd.html?result="+n)},BusinessCenterContext.notifyPopupTransactionFailure=function(n){window.location.replace("https://businesscenter.kaiza.la/consoleTab/popupTransactionEnd.html?error="+n)},BusinessCenterContext.createCalendarEvent=function(n){return sendMessage("createCalendarEvent",[n]).then(function(n){return JSON.parse(unsanitize(n))}).catch(function(n){return unsanitize(n)})},BusinessCenterContext.getMediaPermissions=function(n){return sendMessage("getMediaPermissions",[n]).then(function(n){return JSON.parse(unsanitize(n))}).catch(function(n){return unsanitize(n)})};var sendMessage=function(n,e){return new Promise(function(t,s){var r=new MessageChannel;r.port1.onmessage=function(n){r.port1.close(),n.data.error?s(sanitize(n.data.error)):t(sanitize(n.data.result))},e?(e.unshift(n),window.parent.postMessage(e,"https://businesscenter.kaiza.la",[r.port2])):window.parent.postMessage(n,"https://businesscenter.kaiza.la",[r.port2])})},sanitize=function(n){const e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;","`":"&grave;"};return n.replace(/[&<>"'\/]/gi,n=>e[n])},unsanitize=function(n){return n=replaceString(n,"&amp;","&"),n=replaceString(n,"&lt;","<"),n=replaceString(n,"&gt;",">"),n=replaceString(n,"&quot;",'"'),n=replaceString(n,"&#x27;","'"),n=replaceString(n,"&#x2F;","/"),n=replaceString(n,"&grave;","`")},replaceString=function(n,e,t){return n.split(e).join(t)};